{% extends 'layout.html' %}

{% block title %}Contáctanos - Simplify Biz{% endblock %}

{% block content %}
    <!-- Sección de Contacto (Formulario) para que los usuarios se comuniquen con el equipo de Simplify Biz -->
    <section id="Contact">
        <div class="container">
            <div class="contact-content">
                <!-- Título de la sección de contacto -->
                <h2>Contáctanos</h2>
                
                <!-- Descripción breve para invitar al usuario a completar el formulario -->
                <p>¿Tienes alguna consulta, sugerencia o necesitas más información?<br>
                    <br>¡Estamos aquí para ayudarte!<br>Completa el formulario y nos pondremos en contacto contigo lo antes
                    posible.
                </p>

                <!-- Formulario para enviar el mensaje de contacto -->
                <form action="{{ url_for('contact') }}" method="POST">
                    <!-- Campo para el nombre del usuario -->
                    <div class="form-group">
                        <label for="name">Nombre</label>
                        <input type="text" id="name" name="name" placeholder="Tu nombre" required>
                    </div>

                    <!-- Campo para el correo electrónico del usuario -->
                    <div class="form-group">
                        <label for="email">Correo Electrónico</label>
                        <input type="email" id="email" name="email" placeholder="Tu correo electrónico" required>
                    </div>

                    <!-- Campo para el mensaje del usuario -->
                    <div class="form-group">
                        <label for="message">Mensaje</label>
                        <textarea id="message" name="message" placeholder="Tu mensaje" required></textarea>
                    </div>

                    <!-- Botón para enviar el formulario -->
                    <button type="submit">Enviar</button>
                </form>

                <!-- Mostrar mensaje de confirmación o error después de enviar el formulario -->
                {% if mensaje_confirmacion %}
                <div class="popup" style="display: {% if popup_visible %} block {% else %} none {% endif %};">
                    <!-- Fondo superpuesto para el popup -->
                    <div class="popup-overlay" onclick="closePopup()"></div>
                    
                    <!-- Contenido del popup con el mensaje de confirmación -->
                    <div class="popup-content">
                        <p>{{ mensaje_confirmacion }}</p>
                        <button type="button" class="popup-close" onclick="closePopup()">Cerrar</button>
                    </div>
                </div>

                <!-- Script para cerrar automáticamente el popup después de 4 segundos -->
                <script>
                    // Espera 4 segundos y luego cierra el popup
                    setTimeout(function () {
                        closePopup(); // Llama a la función para cerrar el popup
                    }, 4000); // 4000 milisegundos = 4 segundos

                    // Función para cerrar el popup al hacer clic en el botón de cierre
                    function closePopup() {
                        document.querySelector('.popup').style.display = 'none';
                    }
                </script>
                {% endif %}

            </div>
        </div>
    </section>
{% endblock %}
