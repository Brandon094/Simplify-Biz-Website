{% extends 'layout.html' %}

{% block title %}Formulario de Pago - Simplify Biz{% endblock %}

{% block content %}
    <!-- Sección de Pago -->
    <section id="payment-section">
        <h2>Formulario de Pago</h2>
        <p>Por favor, ingresa tus datos para realizar el pago y recibir el código de validación para acceder a la descarga de Simplify Biz.</p>
        
        <form action="{{ url_for('payment', software=software) }}" method="post">
            <label for="nombre">Nombre Completo:</label>
            <input type="text" id="nombre" name="nombre" required><br>

            <label for="email">Correo Electrónico:</label>
            <input type="email" id="email" name="email" required><br>

            <label for="monto">Monto a Pagar:</label>
            <input type="number" id="monto" name="monto" required><br>

            <button type="submit">Realizar Pago</button>
        </form>
        

            <!-- Mostrar mensaje de confirmación o error -->
            {% if mensaje_confirmacion %}
            <div class="popup" style="display: {% if popup_visible %} block {% else %} none {% endif %};">
                <div class="popup-overlay" onclick="closePopup()"></div>
                <div class="popup-content">
                    <p>{{ mensaje_confirmacion }}</p>
                    <button type="button" class="popup-close" onclick="closePopup()">Cerrar</button>
                </div>
            </div>

            <script>
                // Espera 4 segundos y luego cierra el popup
                setTimeout(function () {
                    closePopup(); // Llama a la función para cerrar el popup
                }, 4000); // 4000 milisegundos = 4 segundos

                // Función para cerrar el popup
                function closePopup() {
                    document.querySelector('.popup').style.display = 'none';
                }
            </script>
            {% endif %}
    </section>
{% endblock %}
